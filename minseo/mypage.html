<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이 페이지</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../style.main.css">
    <link rel="stylesheet" href="../mky.css">
    <link rel="stylesheet" href="../minseo/minseo.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
</head>

<body>
    <!-- 공통영역 -->
    <div class="container">
        <div class="sideBar">
            <div class="top">
                <i class="bx bx-menu" id="btn"></i>
            </div>
            <div class="user">
                <img src="/resources/images/메인게임.webp" alt="me" class="userImg">
                <div class="nickName">
                    <p class="bold">Wit Works</p>
                    <p></p>
                </div>
            </div>

            <ul>
                <li><a href="#"><i class='bx bxs-home-alt-2'></i><span class="navItem">홈</span></a><span
                        class="toolTip">홈</span></li>
                <li><a href="#"><i class='bx bx-paperclip'></i><span class="navItem">주소록</span></a><span
                        class="toolTip">주소록</span></li>
                <li><a href="board2.html"><i class="bx bxs-grid-alt"></i><span class="navItem">게시판</span></a><span
                        class="toolTip">게시판</span></li>
                <li><a href="#"><i class='bx bx-calendar-alt'></i><span class="navItem">캘린더</span></a><span
                        class="toolTip">캘린더</span></li>
                <li><a href="#"><i class='bx bxs-message-dots'></i><span class="navItem">메신저</span></a><span
                        class="toolTip">메신저</span></li>
                <li><a href="#"><i class='bx bx-clipboard'></i><span class="navItem">전자결재</span></a><span
                        class="toolTip">전자결재</span></li>
                <li><a href="#"><i class='bx bxs-briefcase-alt-2'></i><span class="navItem">근태관리</span></a><span
                        class="toolTip">근태관리</span></li>
                <li><a href="#"><i class='bx bxs-check-square'></i><span class="navItem">예약</span></a><span
                        class="toolTip">예약</span></li>
                <li><a href="#"><i class='bx bx-sitemap'></i><span class="navItem">조직도</span></a><span
                        class="toolTip">조직도</span></li>
            </ul>
        </div>
        <!-- 공통영역 끝 -->

        <div class="main-content">
            <div class="header">
                <span class="alert"><a href=""><i class='bx bxs-bell'></i></a></span>
                <span class="myName">
                    <img src="/resources/images/메인게임.webp"><a href="/employee/mypage">인사부 백민주 사장</a>
                </span>
                <span class="logOut"><a href="/employee/logout">LogOut</a></span>
            </div>
            <div class="contents">
                <div class="sideAbout">
                    <div class="sideTxt">
                        <h2 class="sideTit">마이페이지</h2>
                    </div>
                </div>
                <div class="sideContents mypage">
                    <div class="sideTxt">
                        <h2 class="sideTit">마이페이지</h2>
                    </div>
                    <div class="form-container">
                        <div class="form-group-photo">
                            <span>프로필</span>
                            <img src="푸바오.png" alt="푸바오 이미지">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <span>이름</span>
                                <input type="text" value="백민주" readonly>
                            </div>
                            <div class="form-group">
                                <span>닉네임</span>
                                <input type="text" name="nickname" id="nickname" value="다붙어밍쥬당" readonly>
                                <button type="button" id="checkNickname"
                                    class="edit-nickname-button hidden">중복체크</button>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <span>생년월일</span>
                                <input type="text" value="2000년00월00일" readonly>
                            </div>
                            <div class="form-group">
                                <span>휴대폰</span>
                                <input type="text" value="010-3824-6685" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <span>이메일</span>
                                <input type="text" value="wan7078@naver.com" readonly>
                            </div>
                            <div class="form-group">
                                <span>주소</span>
                                <input type="text" value="한빛로12" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <span>상세주소</span>
                                <input type="text" value="남서울 평생교육원" readonly>
                            </div>
                            <div class="form-group">
                                <span>입사일</span>
                                <input type="text" value="2024월 7월 29일" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <span>부서</span>
                                <input type="text" value="인사부" readonly>
                            </div>
                            <div class="form-group">
                                <span>직급</span>
                                <input type="text" value="사장" readonly>
                            </div>
                        </div>
                        <div class="form-row hidden" id="passwordRow">
                            <div class="form-group">
                                <span>PW변경</span>
                                <input type="password" name="pw" id="pw">
                                <label id="resultpw" class="resultpw"></label>
                                <span id="pwCheck"></span>
                            </div>
                            <div class="form-group">
                                <span>PW확인</span>
                                <input type="password" name="checkpw" id="checkpw">
                                <label id="resultcheckpw" class="resultcheckpw"></label>
                                <span id="checkpwCheck"></span>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" id="editButton" onclick="toggleEdit()">수정</button>
                            <button type="submit" id="saveButton" class="hidden">완료</button>
                            <div class="cancel">
                                <button type="button" id="cancelButton" class="hidden"
                                    onclick="toggleEdit()">취소</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let btn = document.querySelector("#btn");
        let sideBar = document.querySelector(".sideBar");

        btn.onclick = function () {
            sideBar.classList.toggle("active");
        };

        let nicknameChecked = false;
        const originalNickname = "${employee.nickname}";

        function toggleEdit() {
            const isEditing = !document.getElementById('editButton').classList.contains('hidden');
            document.getElementById('editButton').classList.toggle('hidden');
            document.getElementById('saveButton').classList.toggle('hidden');
            document.getElementById('cancelButton').classList.toggle('hidden');
            document.getElementById('passwordRow').classList.toggle('hidden');
            document.getElementById('checkNickname').classList.toggle('hidden');

            const nicknameField = document.querySelector('input[name="nickname"]');
            const passwordField = document.querySelector('input[name="pw"]');
            const checkPasswordField = document.querySelector('input[name="checkpw"]');

            if (nicknameField) {
                nicknameField.readOnly = !isEditing;
            }
            if (passwordField) {
                passwordField.readOnly = !isEditing;
            }
            if (checkPasswordField) {
                checkPasswordField.readOnly = !isEditing;
            }
        }
    </script>
</body>

</html>